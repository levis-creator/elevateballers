const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lucide-react.elpkBkAp.js","_astro/createLucideIcon.DXTouTbc.js","_astro/index.Z6aMusZW.js","_astro/trophy.D9FOkt9-.js","_astro/arrow-left.DTOvvTq7.js","_astro/briefcase.Dy88TS9y.js","_astro/check.BilKxX2O.js","_astro/chevron-up.BnPhcTyb.js","_astro/chevron-right.CntEDD8B.js","_astro/circle-alert.DSB0BqUH.js","_astro/circle-check-big.C0mK4qk5.js","_astro/circle-x.BXci9Ly8.js","_astro/circle.p2pi6svn.js","_astro/file-text.CSp1dnUh.js","_astro/info.COjwR0tB.js","_astro/loader-circle.DAcaG-Yh.js","_astro/square-pen.CdCizJHo.js","_astro/trash-2.GrLsMpmQ.js","_astro/shield.DPFejS3v.js","_astro/save.BcFhAao1.js","_astro/user.zdQziaxZ.js","_astro/users.DbM1g3zt.js","_astro/x.B_0Xwiyu.js"])))=>i.map(i=>d[i]);
import{_ as H}from"./preload-helper.BlTxHScW.js";import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.Z6aMusZW.js";import{B as i}from"./button.BWaXVklz.js";import{I as J}from"./input.DYfGnR1o.js";import{C as w,d as E}from"./card.YuvTJRVG.js";import{S as O}from"./skeleton.B3vSOSjr.js";import{T as q,a as K,b as U,c as m,d as Q,e as x,D as A,f as V,g as _,h as C}from"./dropdown-menu.C-53F5K0.js";import"./utils.CDN07tui.js";import"./index.CTkzGMNT.js";import"./index.CO5Cc353.js";import"./index.EfZGvMir.js";import"./Combination.UCZQMOc2.js";import"./index.B8x0sxYY.js";import"./chevron-right.CntEDD8B.js";import"./createLucideIcon.DXTouTbc.js";import"./check.BilKxX2O.js";import"./circle.p2pi6svn.js";function ue(){const[R,G]=l.useState([]),[$,P]=l.useState(!0),[S,h]=l.useState(""),[a,F]=l.useState(""),[o,T]=l.useState("table"),[r,B]=l.useState({});l.useEffect(()=>{H(()=>import("./lucide-react.elpkBkAp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(s=>{B({Plus:s.Plus,Search:s.Search,List:s.List,Grid:s.Grid,Edit:s.Edit,Trash2:s.Trash2,Users:s.Users,AlertCircle:s.AlertCircle,RefreshCw:s.RefreshCw,MoreVertical:s.MoreVertical,User:s.User,Shield:s.Shield,MapPin:s.MapPin})})},[]),l.useEffect(()=>{y()},[]);const y=async()=>{try{P(!0);const s=await fetch("/api/players");if(!s.ok)throw new Error("Failed to fetch players");const t=await s.json();G(t)}catch(s){h(s.message||"Failed to load players")}finally{P(!1)}},I=async s=>{if(window.confirm(`Are you sure you want to delete this player?

This action cannot be undone.`))try{if(!(await fetch(`/api/players/${s}`,{method:"DELETE"})).ok)throw new Error("Failed to delete player");h(""),y()}catch(v){h("Error deleting player: "+v.message),setTimeout(()=>h(""),5e3)}},d=s=>{const t=s.firstName||"",v=s.lastName||"";return`${t} ${v}`.trim()||"Unnamed Player"},z=R.filter(s=>d(s).toLowerCase().includes(a.toLowerCase())||s.team?.name&&s.team.name.toLowerCase().includes(a.toLowerCase())||s.position&&s.position.toLowerCase().includes(a.toLowerCase())),u=r.Plus,j=r.Search,L=r.List,M=r.Grid,f=r.Edit,p=r.Trash2,g=r.Users,D=r.AlertCircle,k=r.RefreshCw,N=r.MoreVertical,n=r.User,c=r.Shield,b=r.MapPin;return $?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsx(O,{className:"h-16 w-full"},s))}):S?e.jsx(w,{className:"border-destructive",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[D?e.jsx(D,{size:24,className:"text-destructive"}):null,e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Error Loading Players"}),e.jsx("p",{className:"text-muted-foreground",children:S})]}),e.jsxs(i,{onClick:y,variant:"default",children:[k?e.jsx(k,{size:18,className:"mr-2"}):null,"Try Again"]})]})})}):e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 pb-6 border-b",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-heading font-semibold mb-2 text-foreground flex items-center gap-2",children:[g?e.jsx(g,{size:28}):null,"Players"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage player profiles and information"})]}),e.jsx(i,{asChild:!0,children:e.jsxs("a",{href:"/admin/players/new","data-astro-prefetch":!0,children:[u?e.jsx(u,{size:18,className:"mr-2"}):null,"Create Player"]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-stretch md:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("label",{htmlFor:"player-search",className:"sr-only",children:"Search players"}),j?e.jsx(j,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}):null,e.jsx(J,{id:"player-search",type:"text",placeholder:"Search players...",value:a,onChange:s=>F(s.target.value),className:"pl-10","aria-label":"Search players by name, team, or position"})]}),e.jsxs("div",{className:"flex gap-2 bg-background p-1 rounded-lg border",children:[e.jsx(i,{variant:o==="table"?"default":"ghost",size:"icon",onClick:()=>T("table"),title:"Table View","aria-label":"Switch to table view","aria-pressed":o==="table",children:L?e.jsx(L,{size:16}):null}),e.jsx(i,{variant:o==="grid"?"default":"ghost",size:"icon",onClick:()=>T("grid"),title:"Grid View","aria-label":"Switch to grid view","aria-pressed":o==="grid",children:M?e.jsx(M,{size:16}):null})]})]}),z.length===0?e.jsx(w,{className:"border-dashed",children:e.jsx(E,{className:"p-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"text-muted-foreground",children:a?j?e.jsx(j,{size:64}):null:g?e.jsx(g,{size:64}):null}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:a?"No players found":"No players yet"}),e.jsx("p",{className:"text-muted-foreground",children:a?"Try a different search term":"Create your first player to get started"})]}),!a&&e.jsx(i,{asChild:!0,children:e.jsxs("a",{href:"/admin/players/new","data-astro-prefetch":!0,children:[u?e.jsx(u,{size:18,className:"mr-2"}):null,"Create Player"]})})]})})}):o==="table"?e.jsx(w,{children:e.jsxs(q,{children:[e.jsx(K,{children:e.jsxs(U,{children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[n?e.jsx(n,{size:16}):null,"Player"]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[c?e.jsx(c,{size:16}):null,"Team"]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[b?e.jsx(b,{size:16}):null,"Position"]})}),e.jsx(m,{children:"Jersey #"}),e.jsx(m,{children:"Actions"})]})}),e.jsx(Q,{children:z.map(s=>e.jsxs(U,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[s.image?e.jsx("img",{src:s.image,alt:d(s),className:"w-10 h-10 rounded-full object-cover",onError:t=>{t.target.src="/images/placeholder-player.jpg"}}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center",children:n?e.jsx(n,{size:20,className:"text-muted-foreground"}):null}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("strong",{className:"font-semibold text-foreground",children:d(s)}),s.bio&&e.jsxs("small",{className:"text-xs text-muted-foreground line-clamp-1",children:[s.bio.substring(0,50),"..."]})]})]})}),e.jsx(x,{children:s.team?.name?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c?e.jsx(c,{size:14}):null,e.jsx("span",{children:s.team.name})]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(x,{children:s.position||e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(x,{children:s.jerseyNumber||e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(x,{children:e.jsxs(A,{children:[e.jsx(V,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",className:"h-9 w-9",children:N?e.jsx(N,{size:18}):null})}),e.jsxs(_,{align:"end",children:[e.jsx(C,{asChild:!0,children:e.jsxs("a",{href:`/admin/players/${s.id}`,"data-astro-prefetch":!0,children:[f?e.jsx(f,{size:16,className:"mr-2"}):null,"Edit"]})}),e.jsxs(C,{onClick:()=>I(s.id),className:"text-destructive focus:text-destructive",children:[p?e.jsx(p,{size:16,className:"mr-2"}):null,"Delete"]})]})]})})]},s.id))})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(s=>e.jsxs(w,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative w-full h-64 bg-muted overflow-hidden",children:[s.image?e.jsx("img",{src:s.image,alt:d(s),className:"w-full h-full object-cover",onError:t=>{t.target.src="/images/placeholder-player.jpg"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n?e.jsx(n,{size:64,className:"text-muted-foreground"}):null}),s.jerseyNumber&&e.jsx("div",{className:"absolute top-4 right-4 bg-primary text-primary-foreground rounded-full w-12 h-12 flex items-center justify-center font-bold text-lg",children:s.jerseyNumber})]}),e.jsxs(E,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:d(s)}),e.jsxs("div",{className:"space-y-2 mb-4",children:[s.team?.name&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c?e.jsx(c,{size:16}):null,e.jsx("span",{children:s.team.name})]}),s.position&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[b?e.jsx(b,{size:16}):null,e.jsx("span",{children:s.position})]})]}),s.bio&&e.jsxs("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:[s.bio.substring(0,100),"..."]}),e.jsx("div",{className:"flex justify-end pt-4 border-t",children:e.jsxs(A,{children:[e.jsx(V,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"icon",className:"h-8 w-8",children:N?e.jsx(N,{size:16}):null})}),e.jsxs(_,{align:"end",children:[e.jsx(C,{asChild:!0,children:e.jsxs("a",{href:`/admin/players/${s.id}`,"data-astro-prefetch":!0,children:[f?e.jsx(f,{size:16,className:"mr-2"}):null,"Edit"]})}),e.jsxs(C,{onClick:()=>I(s.id),className:"text-destructive focus:text-destructive",children:[p?e.jsx(p,{size:16,className:"mr-2"}):null,"Delete"]})]})]})})]})]},s.id))})]})}export{ue as default};
