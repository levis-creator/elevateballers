import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.Z6aMusZW.js";import{f as d}from"./utils.zbVxhzWj.js";import{a as u}from"./league-helpers.1oObcXhs.js";function N(){const r=l.useRef(null),[t,i]=l.useState([]),[m,n]=l.useState(!0);return l.useEffect(()=>{fetch("/api/matches?status=upcoming").then(e=>e.json()).then(e=>{i(e.slice(0,5)),n(!1)}).catch(e=>{console.error("Error fetching matches:",e),n(!1)})},[]),l.useEffect(()=>{if(typeof window>"u"||!window.jQuery||t.length===0)return;const e=window.jQuery,a=e(r.current),o=()=>{e.fn.owlCarousel&&a.length&&a.owlCarousel({items:1,dots:!0,nav:!1,autoplay:!1,loop:t.length>1})};if(e.fn.owlCarousel)o();else{const c=setInterval(()=>{e.fn.owlCarousel&&(clearInterval(c),o())},100);return()=>clearInterval(c)}return()=>{a&&a.data("owl.carousel")&&a.trigger("destroy.owl.carousel")}},[t]),m?s.jsxs("div",{className:"stm-next-match-carousel-wrap style_3",children:[s.jsx("h2",{className:"stm-carousel-title",children:"UPCOMING MATCHES"}),s.jsx("div",{className:"loading-matches",children:"Loading matches..."})]}):t.length===0?s.jsxs("div",{className:"stm-next-match-carousel-wrap style_3",children:[s.jsx("h2",{className:"stm-carousel-title",children:"UPCOMING MATCHES"}),s.jsx("div",{className:"no-matches",children:"No upcoming matches scheduled."})]}):s.jsxs("div",{className:"stm-next-match-carousel-wrap style_3",children:[s.jsx("h2",{className:"stm-carousel-title",children:"UPCOMING MATCHES"}),s.jsx("div",{className:"stm-next-match-carousel2",children:s.jsx("div",{ref:r,className:"stm-next-match-carousel__item",children:t.map(e=>s.jsxs("div",{className:"stm-next-match-carousel__item",children:[s.jsxs("div",{className:"event-results",children:[e.team1Logo&&s.jsx("img",{decoding:"async",src:e.team1Logo,alt:e.team1Name,onError:a=>{a.target.style.display="none"}}),s.jsx("span",{className:"post-score heading-font",children:"vs"}),e.team2Logo&&s.jsx("img",{decoding:"async",src:e.team2Logo,alt:e.team2Name,onError:a=>{a.target.style.display="none"}})]}),s.jsxs("div",{className:"event-data",children:[s.jsx("div",{className:"teams-titles",children:s.jsxs("a",{href:`/matches/${e.id}`,children:[e.team1Name," vs ",e.team2Name]})}),s.jsx("div",{className:"event-league",children:u(e)||e.leagueName||""})]}),s.jsx("div",{className:"event-date",children:d(e.date)})]},e.id))})})]})}export{N as default};
