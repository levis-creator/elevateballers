const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lucide-react.elpkBkAp.js","_astro/createLucideIcon.DXTouTbc.js","_astro/index.Z6aMusZW.js","_astro/trophy.D9FOkt9-.js","_astro/arrow-left.DTOvvTq7.js","_astro/briefcase.Dy88TS9y.js","_astro/check.BilKxX2O.js","_astro/chevron-up.BnPhcTyb.js","_astro/chevron-right.CntEDD8B.js","_astro/circle-alert.DSB0BqUH.js","_astro/circle-check-big.C0mK4qk5.js","_astro/circle-x.BXci9Ly8.js","_astro/circle.p2pi6svn.js","_astro/file-text.CSp1dnUh.js","_astro/info.COjwR0tB.js","_astro/loader-circle.DAcaG-Yh.js","_astro/square-pen.CdCizJHo.js","_astro/trash-2.GrLsMpmQ.js","_astro/shield.DPFejS3v.js","_astro/save.BcFhAao1.js","_astro/user.zdQziaxZ.js","_astro/users.DbM1g3zt.js","_astro/x.B_0Xwiyu.js"])))=>i.map(i=>d[i]);
import{_ as L}from"./preload-helper.BlTxHScW.js";import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.Z6aMusZW.js";import{B as E}from"./button.BWaXVklz.js";import{c as d}from"./utils.CDN07tui.js";function B(){const[n,o]=i.useState(!1),[s,g]=i.useState(!1),[r,v]=i.useState({});i.useEffect(()=>{L(()=>import("./lucide-react.elpkBkAp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(a=>{v({LayoutDashboard:a.LayoutDashboard,Newspaper:a.Newspaper,Calendar:a.Calendar,Users:a.Users,Shield:a.Shield,Briefcase:a.Briefcase,Images:a.Images,FileText:a.FileText,Settings:a.Settings,ExternalLink:a.ExternalLink,LogOut:a.LogOut,Basketball:a.Basketball,Trophy:a.Trophy,CalendarRange:a.CalendarRange,Menu:a.Menu,X:a.X})});const t=()=>{g(window.innerWidth<=768)};t(),window.addEventListener("resize",t);const l=a=>{if(s){const w=a.target;!w.closest(".admin-sidebar")&&!w.closest(".mobile-menu-toggle")&&o(!1)}},c=()=>{s&&o(!1)};return document.addEventListener("click",l),window.addEventListener("popstate",c),()=>{window.removeEventListener("resize",t),document.removeEventListener("click",l),window.removeEventListener("popstate",c)}},[s]);const j=[{href:"/admin",icon:r.LayoutDashboard,label:"Dashboard"},{href:"/admin/news",icon:r.Newspaper,label:"News Articles"},{href:"/admin/matches",icon:r.Calendar,label:"Matches"},{href:"/admin/leagues",icon:r.Trophy,label:"Leagues"},{href:"/admin/seasons",icon:r.CalendarRange,label:"Seasons"},{href:"/admin/teams",icon:r.Shield,label:"Teams"},{href:"/admin/players",icon:r.Users,label:"Players"},{href:"/admin/staff",icon:r.Briefcase,label:"Staff"}],f=r.Basketball,m=r.ExternalLink,x=r.LogOut,u=r.Menu,p=r.X,[h,N]=i.useState("");i.useEffect(()=>{typeof window<"u"&&N(window.location.pathname)},[]);const k=t=>h?!!(t==="/admin"&&h==="/admin"||t!=="/admin"&&h.startsWith(t)):!1,y=async()=>{if(confirm("Are you sure you want to logout?"))try{(await fetch("/api/auth/logout",{method:"POST"})).ok&&(window.location.href="/admin/login")}catch(t){console.error("Logout error:",t),window.location.href="/admin/login"}},b=()=>{s&&o(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"ghost",size:"icon",className:d("fixed top-4 left-4 z-[1001]","bg-[#1e293b] text-white hover:bg-[#1e293b]/90","md:hidden","shadow-lg"),onClick:()=>o(!n),"aria-label":"Toggle menu","aria-expanded":n,children:n&&p?e.jsx(p,{size:24}):u?e.jsx(u,{size:24}):"â˜°"}),n&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999] md:hidden",onClick:()=>o(!1),"aria-hidden":"true"}),e.jsxs("aside",{className:d("admin-sidebar","fixed left-0 top-0 h-screen w-[260px]","bg-[#1e293b]","flex flex-col","z-[1000] shadow-lg","transition-transform duration-300 ease-in-out","md:translate-x-0",s&&!n&&"-translate-x-full",s&&n&&"translate-x-0"),children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("a",{href:"/admin",className:"flex items-center !text-white no-underline hover:opacity-90 transition-opacity","data-astro-prefetch":!0,children:[f?e.jsx(f,{size:24,className:"!text-primary mr-2"}):e.jsx("span",{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-xl font-bold !text-white",children:"Elevate CMS"})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4","aria-label":"Main navigation",children:j.map(t=>{const l=t.icon,c=k(t.href);return e.jsxs("a",{href:t.href,className:d("flex items-center px-6 py-3.5 !text-white no-underline","transition-all duration-200","border-l-[3px] border-transparent","hover:bg-white/10 hover:border-primary",c&&"bg-primary/15 border-primary font-semibold","text-[0.95rem] font-medium"),...c&&{"aria-current":"page"},"aria-label":t.label,"data-astro-prefetch":!0,onClick:b,children:[l?e.jsx(l,{size:20,className:"mr-3 flex-shrink-0 !text-white","aria-hidden":"true"}):e.jsx("span",{className:"w-5 h-5 mr-3 flex-shrink-0","aria-hidden":"true"}),e.jsx("span",{className:"!text-white",children:t.label})]},t.href)})}),e.jsxs("div",{className:"border-t border-white/10",children:[e.jsxs("a",{href:"/",className:d("flex items-center px-6 py-3.5 !text-white no-underline","transition-all duration-200","border-l-[3px] border-transparent","hover:bg-white/10 hover:border-primary","text-[0.95rem] font-medium"),onClick:b,children:[m?e.jsx(m,{size:20,className:"mr-3 flex-shrink-0 !text-white"}):e.jsx("span",{className:"w-5 h-5 mr-3 flex-shrink-0"}),e.jsx("span",{className:"!text-white",children:"View Site"})]}),e.jsxs("button",{type:"button",onClick:y,"aria-label":"Logout from admin panel",className:d("flex items-center px-6 py-3.5 !text-white w-full text-left","transition-all duration-200","border-l-[3px] border-transparent","hover:bg-red-500/20 hover:border-red-500","text-[0.95rem] font-medium","bg-transparent border-0 cursor-pointer"),children:[x?e.jsx(x,{size:20,className:"mr-3 flex-shrink-0 !text-white","aria-hidden":"true"}):e.jsx("span",{className:"w-5 h-5 mr-3 flex-shrink-0","aria-hidden":"true"}),e.jsx("span",{className:"!text-white",children:"Logout"})]})]})]})]})}export{B as default};
