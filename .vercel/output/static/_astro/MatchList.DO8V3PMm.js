const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lucide-react.elpkBkAp.js","_astro/createLucideIcon.DXTouTbc.js","_astro/index.Z6aMusZW.js","_astro/trophy.D9FOkt9-.js","_astro/arrow-left.DTOvvTq7.js","_astro/briefcase.Dy88TS9y.js","_astro/check.BilKxX2O.js","_astro/chevron-up.BnPhcTyb.js","_astro/chevron-right.CntEDD8B.js","_astro/circle-alert.DSB0BqUH.js","_astro/circle-check-big.C0mK4qk5.js","_astro/circle-x.BXci9Ly8.js","_astro/circle.p2pi6svn.js","_astro/file-text.CSp1dnUh.js","_astro/info.COjwR0tB.js","_astro/loader-circle.DAcaG-Yh.js","_astro/square-pen.CdCizJHo.js","_astro/trash-2.GrLsMpmQ.js","_astro/shield.DPFejS3v.js","_astro/save.BcFhAao1.js","_astro/user.zdQziaxZ.js","_astro/users.DbM1g3zt.js","_astro/x.B_0Xwiyu.js"])))=>i.map(i=>d[i]);
import{_ as ie}from"./preload-helper.BlTxHScW.js";import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.Z6aMusZW.js";import{B as x}from"./button.BWaXVklz.js";import{I as ce}from"./input.DYfGnR1o.js";import{C as E,a as D}from"./card.CoMIDSCG.js";import{S as oe}from"./skeleton.B3vSOSjr.js";import{B as z}from"./badge.DPtWg24B.js";import{S as de,a as me,b as xe,c as he,d as L}from"./select.C_1Jy99F.js";import{T as ue,a as je,b as K,c as j,d as fe,e as f,D as Q,f as W,g as X,h as p}from"./dropdown-menu.CVPMSsLz.js";import{c as Y}from"./utils.CDN07tui.js";import{d as k,a as V,c as Z,g as ee}from"./team-helpers.vPMKc0Vn.js";import{a as P}from"./league-helpers.1oObcXhs.js";import"./index.CO5Cc353.js";import"./index.EfZGvMir.js";import"./index.lnW5t9aA.js";import"./Combination.LMohFq6j.js";import"./index.D9ngwW3m.js";import"./chevron-up.BnPhcTyb.js";import"./createLucideIcon.DXTouTbc.js";import"./check.BilKxX2O.js";import"./index.DUJzU2eK.js";import"./chevron-right.CntEDD8B.js";import"./circle.p2pi6svn.js";function Re(){const[se,te]=l.useState([]),[ae,A]=l.useState(!0),[U,b]=l.useState(""),[n,re]=l.useState(""),[g,_]=l.useState("table"),[i,le]=l.useState("all"),[t,ne]=l.useState({});l.useEffect(()=>{ie(()=>import("./lucide-react.elpkBkAp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(s=>{ne({Plus:s.Plus,Search:s.Search,List:s.List,Grid:s.Grid,Edit:s.Edit,Trash2:s.Trash2,Calendar:s.Calendar,AlertCircle:s.AlertCircle,Clock:s.Clock,CheckCircle:s.CheckCircle,Play:s.Play,MoreVertical:s.MoreVertical,Trophy:s.Trophy,Users:s.Users,RefreshCw:s.RefreshCw,Eye:s.Eye})})},[]),l.useEffect(()=>{I()},[]);const I=async()=>{try{A(!0);const s=await fetch("/api/matches");if(!s.ok)throw new Error("Failed to fetch matches");const a=await s.json();te(a)}catch(s){b(s.message||"Failed to load matches")}finally{A(!1)}},F=async s=>{if(window.confirm(`Are you sure you want to delete this match?

This action cannot be undone.`))try{if(!(await fetch(`/api/matches/${s}`,{method:"DELETE"})).ok)throw new Error("Failed to delete match");b(""),I()}catch(r){b("Error deleting match: "+r.message),setTimeout(()=>b(""),5e3)}},G=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=s=>({UPCOMING:"bg-slate-500",LIVE:"bg-red-500",COMPLETED:"bg-green-500"})[s]||"bg-slate-500",B=s=>{switch(s){case"UPCOMING":return t.Clock||null;case"LIVE":return t.Play||null;case"COMPLETED":return t.CheckCircle||null;default:return t.Clock||null}},M=se.filter(s=>{const a=k(s),r=V(s),c=P(s),o=a.toLowerCase().includes(n.toLowerCase())||r.toLowerCase().includes(n.toLowerCase())||c.toLowerCase().includes(n.toLowerCase()),d=i==="all"||s.status===i.toUpperCase();return o&&d}),C=t.Plus,v=t.Search,O=t.List,$=t.Grid,w=t.Edit,y=t.Trash2,h=t.Calendar,H=t.AlertCircle,q=t.RefreshCw,u=t.Trophy,J=t.Users,S=t.Eye,T=t.MoreVertical;return ae?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsx(oe,{className:"h-16 w-full"},s))}):U?e.jsx(E,{className:"border-destructive",children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[H?e.jsx(H,{size:24,className:"text-destructive"}):null,e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"Error Loading Matches"}),e.jsx("p",{className:"text-muted-foreground",children:U})]}),e.jsxs(x,{onClick:I,variant:"default",children:[q?e.jsx(q,{size:18,className:"mr-2"}):null,"Try Again"]})]})})}):e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 pb-6 border-b",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-heading font-semibold mb-2 text-foreground flex items-center gap-2",children:[u?e.jsx(u,{size:28}):null,"Matches"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage match fixtures and results"})]}),e.jsx(x,{asChild:!0,children:e.jsxs("a",{href:"/admin/matches/new","data-astro-prefetch":!0,children:[C?e.jsx(C,{size:18,className:"mr-2"}):null,"Create Match"]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-stretch md:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("label",{htmlFor:"match-search",className:"sr-only",children:"Search matches"}),v?e.jsx(v,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}):null,e.jsx(ce,{id:"match-search",type:"text",placeholder:"Search matches...",value:n,onChange:s=>re(s.target.value),className:"pl-10","aria-label":"Search matches by teams or league"})]}),e.jsxs(de,{value:i,onValueChange:le,children:[e.jsx(me,{className:"w-[180px]",children:e.jsx(xe,{placeholder:"Filter by status"})}),e.jsxs(he,{children:[e.jsx(L,{value:"all",children:"All Status"}),e.jsx(L,{value:"upcoming",children:"Upcoming"}),e.jsx(L,{value:"live",children:"Live"}),e.jsx(L,{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"flex gap-2 bg-background p-1 rounded-lg border",children:[e.jsx(x,{variant:g==="table"?"default":"ghost",size:"icon",onClick:()=>_("table"),title:"Table View","aria-label":"Switch to table view","aria-pressed":g==="table",children:O?e.jsx(O,{size:16}):null}),e.jsx(x,{variant:g==="grid"?"default":"ghost",size:"icon",onClick:()=>_("grid"),title:"Grid View","aria-label":"Switch to grid view","aria-pressed":g==="grid",children:$?e.jsx($,{size:16}):null})]})]}),M.length===0?e.jsx(E,{className:"border-dashed",children:e.jsx(D,{className:"p-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"text-muted-foreground",children:n||i!=="all"?v?e.jsx(v,{size:64}):null:u?e.jsx(u,{size:64}):null}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:n||i!=="all"?"No matches found":"No matches yet"}),e.jsx("p",{className:"text-muted-foreground",children:n||i!=="all"?"Try adjusting your search or filters":"Create your first match to get started"})]}),!n&&i==="all"&&e.jsx(x,{asChild:!0,children:e.jsxs("a",{href:"/admin/matches/new","data-astro-prefetch":!0,children:[C?e.jsx(C,{size:18,className:"mr-2"}):null,"Create Match"]})})]})})}):g==="table"?e.jsx(E,{children:e.jsxs(ue,{children:[e.jsx(je,{children:e.jsxs(K,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[J?e.jsx(J,{size:16}):null,"Teams"]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[u?e.jsx(u,{size:16}):null,"League"]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.CheckCircle?e.jsx(t.CheckCircle,{size:16}):null,"Status"]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[h?e.jsx(h,{size:16}):null,"Date & Time"]})}),e.jsx(j,{children:"Score"}),e.jsx(j,{children:"Actions"})]})}),e.jsx(fe,{children:M.map(s=>{const a=B(s.status),r=s.team1Score!==null&&s.team2Score!==null,c=k(s),o=Z(s),d=V(s),N=ee(s);return e.jsxs(K,{children:[e.jsx(f,{children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsx("img",{src:o,alt:c,className:"w-6 h-6 object-contain",onError:m=>{m.target.style.display="none"}}),e.jsx("span",{className:"font-semibold text-sm",children:c})]}),e.jsx("span",{className:"text-xs text-muted-foreground px-2",children:"vs"}),e.jsxs("div",{className:"flex items-center gap-2",children:[N&&e.jsx("img",{src:N,alt:d,className:"w-6 h-6 object-contain",onError:m=>{m.target.style.display="none"}}),e.jsx("span",{className:"font-semibold text-sm",children:d})]})]})}),e.jsx(f,{children:e.jsx(z,{variant:"secondary",children:P(s)})}),e.jsx(f,{children:a&&e.jsxs(z,{variant:"outline",className:Y("flex items-center gap-1.5 uppercase text-xs font-semibold",R(s.status),"text-white border-0"),children:[e.jsx(a,{size:14}),s.status]})}),e.jsx(f,{children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[h?e.jsx(h,{size:14}):null,e.jsx("span",{children:G(s.date)})]})}),e.jsx(f,{children:r?e.jsxs("span",{className:"font-bold text-foreground",children:[s.team1Score," - ",s.team2Score]}):e.jsx("span",{className:"text-muted-foreground",children:"TBD"})}),e.jsx(f,{children:e.jsxs(Q,{children:[e.jsx(W,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"h-9 w-9",children:T?e.jsx(T,{size:18}):null})}),e.jsxs(X,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs("a",{href:`/admin/matches/view/${s.id}`,"data-astro-prefetch":!0,children:[S?e.jsx(S,{size:16,className:"mr-2"}):null,"View Details"]})}),e.jsx(p,{asChild:!0,children:e.jsxs("a",{href:`/admin/matches/${s.id}`,"data-astro-prefetch":!0,children:[w?e.jsx(w,{size:16,className:"mr-2"}):null,"Edit"]})}),e.jsxs(p,{onClick:()=>F(s.id),className:"text-destructive focus:text-destructive",children:[y?e.jsx(y,{size:16,className:"mr-2"}):null,"Delete"]})]})]})})]},s.id)})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(s=>{const a=B(s.status),r=s.team1Score!==null&&s.team2Score!==null,c=k(s),o=Z(s),d=V(s),N=ee(s);return e.jsx(E,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b",children:[e.jsx(z,{variant:"secondary",children:P(s)}),a&&e.jsxs(z,{variant:"outline",className:Y("flex items-center gap-1.5 uppercase text-xs font-semibold",R(s.status),"text-white border-0"),children:[e.jsx(a,{size:14}),s.status]})]}),e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[o&&e.jsx("img",{src:o,alt:c,className:"w-10 h-10 object-contain",onError:m=>{m.target.style.display="none"}}),e.jsx("span",{className:"flex-1 font-semibold",children:c}),r&&e.jsx("span",{className:"text-xl font-bold",children:s.team1Score})]}),e.jsx("div",{className:"text-center text-sm text-muted-foreground font-medium",children:"vs"}),e.jsxs("div",{className:"flex items-center gap-3",children:[N&&e.jsx("img",{src:N,alt:d,className:"w-10 h-10 object-contain",onError:m=>{m.target.style.display="none"}}),e.jsx("span",{className:"flex-1 font-semibold",children:d}),r&&e.jsx("span",{className:"text-xl font-bold",children:s.team2Score})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[h?e.jsx(h,{size:16}):null,e.jsx("span",{children:G(s.date)})]}),e.jsxs(Q,{children:[e.jsx(W,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"h-8 w-8",children:T?e.jsx(T,{size:16}):null})}),e.jsxs(X,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs("a",{href:`/admin/matches/view/${s.id}`,"data-astro-prefetch":!0,children:[S?e.jsx(S,{size:16,className:"mr-2"}):null,"View Details"]})}),e.jsx(p,{asChild:!0,children:e.jsxs("a",{href:`/admin/matches/${s.id}`,"data-astro-prefetch":!0,children:[w?e.jsx(w,{size:16,className:"mr-2"}):null,"Edit"]})}),e.jsxs(p,{onClick:()=>F(s.id),className:"text-destructive focus:text-destructive",children:[y?e.jsx(y,{size:16,className:"mr-2"}):null,"Delete"]})]})]})]})]})},s.id)})})]})}export{Re as default};
