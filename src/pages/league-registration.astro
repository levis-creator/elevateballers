---
import Layout from "../layouts/Layout.astro";
import TopBar from "../features/layout/components/TopBar.astro";
import Header from "../features/layout/components/Header.astro";
import MobileMenu from "../features/layout/components/MobileMenu";
import Footer from "../features/layout/components/Footer.astro";
import Spacing from "../shared/components/ui/Spacing.astro";
import LeagueRegistrationForm from "../features/registration/components/LeagueRegistrationForm";
import PageLoader from "../components/PageLoader";
---

<Layout>
  <PageLoader client:load />
  <div id="wrapper">
    <TopBar />
    <Header />
    <MobileMenu client:load />
    <div id="main">
      <div
        class="stm-title-box-unit transparent-header_on title_box-357"
        style="padding-top: 0; padding-bottom: 0px;"
      ></div>
      <div class="container">
        <section class="wpb-content-wrapper">
          <div class="vc_row wpb_row vc_row-fluid">
            <div class="wpb_column vc_column_container vc_col-sm-12">
              <div class="vc_column-inner">
                <div class="wpb_wrapper">
                  <Spacing
                    id="stm-spacing-registration-header"
                    lg="50"
                    md="50"
                    sm="40"
                    xs="40"
                  />

                  <h2 class="heading-font" style="text-align: center; margin-bottom: 30px; color: #dd3333;">
                    2026 LEAGUE REGISTRATION
                  </h2>

                  <div class="registration-content" style="max-width: 800px; margin: 0 auto;">
                    <div class="normal_font" style="line-height: 1.8; color: #363f48; margin-bottom: 40px; text-align: center;">
                      <p style="margin-bottom: 20px; font-size: 16px;">
                        Register your team or yourself as a player for the 2026 Elevate Ballers League season.
                      </p>
                    </div>

                    <div class="registration-form-wrapper">
                      <LeagueRegistrationForm client:load />
                    </div>
                  </div>

                  <Spacing
                    id="stm-spacing-registration-footer"
                    lg="50"
                    md="50"
                    sm="40"
                    xs="40"
                  />
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
    <Footer />

    <div class="sp-footer-sponsors">
      <div class="sportspress"><div class="sp-sponsors"></div></div>
    </div>
  </div>
  <!--main-->
  <!--wrapper-->

  <div class="rev-close-btn">
    <span class="close-left"></span>
    <span class="close-right"></span>
  </div>

  <script is:inline>
    window.RS_MODULES = window.RS_MODULES || {};
    window.RS_MODULES.modules = window.RS_MODULES.modules || {};
    window.RS_MODULES.waiting = window.RS_MODULES.waiting || [];
    window.RS_MODULES.defered = true;
    window.RS_MODULES.moduleWaiting = window.RS_MODULES.moduleWaiting || {};
    window.RS_MODULES.type = "compiled";
  </script>
  <script is:inline type="speculationrules">
    {
      "prefetch": [
        {
          "source": "document",
          "where": {
            "and": [
              { "href_matches": "/*" },
              {
                "not": {
                  "href_matches": [
                    "/wp-*.php",
                    "/wp-admin/*",
                    "/wp-content/uploads/*",
                    "/wp-content/*",
                    "/wp-content/plugins/*",
                    "/wp-content/themes/elevate/*",
                    "/*\\?(.+)"
                  ]
                }
              },
              { "not": { "selector_matches": "a[rel~=\"nofollow\"]" } },
              { "not": { "selector_matches": ".no-prefetch, .no-prefetch a" } }
            ]
          },
          "eagerness": "conservative"
        }
      ]
    }
  </script>

  <style is:inline type="text/css">
    .sp-footer-sponsors {
      background: #f4f4f4;
      color: #363f48;
    }
    .sp-footer-sponsors .sp-sponsors .sp-sponsors-title {
      color: #363f48;
    }

    /* Smooth scroll behavior - Matching homepage */
    html {
      scroll-behavior: smooth;
    }

    /* Make footer static so it scrolls with the page */
    .stm-footer {
      position: static !important;
    }

    /* Remove extra padding since footer is no longer fixed */
    #main {
      padding-bottom: 0;
    }

    /* Registration page specific styles */
    .wpb_wrapper h2.heading-font {
      font-size: 40px;
      line-height: 44px;
      margin-bottom: 30px;
      color: #dd3333 !important;
    }

    .registration-form input:focus,
    .registration-form textarea:focus,
    .registration-form select:focus {
      border-color: #dd3333;
      outline: none;
    }

    .registration-form button:hover {
      background-color: #c02929 !important;
      transition: background-color 0.3s ease;
    }

    .registration-form label {
      font-family: Rubik;
    }

    /* Responsive styles for form grid layouts */
    @media (max-width: 767px) {
      .registration-form [style*="grid-template-columns"] {
        grid-template-columns: 1fr !important;
      }
      
      #main {
        padding-bottom: 0;
      }
    }
  </style>

  <div class="sp-header-sponsors" style="margin-top: 10px; margin-right: 10px;">
    <div class="sportspress"><div class="sp-sponsors"></div></div>
  </div>

  <script is:inline type="text/javascript">
    jQuery(document).ready(function ($) {
      $(".sp-header").prepend($(".sp-header-sponsors"));
    });
  </script>

  <script is:inline>
    (function () {
      function maybePrefixUrlField() {
        const value = this.value.trim();
        if (value !== "" && value.indexOf("http") !== 0) {
          this.value = "http://" + value;
        }
      }

      const urlFields = document.querySelectorAll(
        '.mc4wp-form input[type="url"]'
      );
      for (let j = 0; j < urlFields.length; j++) {
        urlFields[j].addEventListener("blur", maybePrefixUrlField);
      }
    })();
  </script>
  <style is:inline type="text/css">
    /* Hide reCAPTCHA V3 badge */
    .grecaptcha-badge {
      visibility: hidden !important;
    }
  </style>
  <script is:inline>
    const lazyloadRunObserver = () => {
      const lazyloadBackgrounds = document.querySelectorAll(
        `.e-con.e-parent:not(.e-lazyloaded)`
      );
      const lazyloadBackgroundObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              let lazyloadBackground = entry.target;
              if (lazyloadBackground) {
                lazyloadBackground.classList.add("e-lazyloaded");
              }
              lazyloadBackgroundObserver.unobserve(entry.target);
            }
          });
        },
        { rootMargin: "200px 0px 200px 0px" }
      );
      lazyloadBackgrounds.forEach((lazyloadBackground) => {
        lazyloadBackgroundObserver.observe(lazyloadBackground);
      });
    };
    const events = ["DOMContentLoaded", "elementor/lazyload/observe"];
    events.forEach((event) => {
      document.addEventListener(event, lazyloadRunObserver);
    });
  </script>

  <script
    is:inline
    type="text/javascript"
    src="/js/jquery.min.js"
    id="jquery-core-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/jquery-migrate.min.js"
    id="jquery-migrate-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/perfect-scrollbar.min.js"
    id="perfect-scrollbar-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/bootstrap.min.js"
    id="bootstrap-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/select2.full.min.js"
    id="select2-js"
    defer="defer"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/owl.carousel.min.js"
    id="owl-carousel-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/jquery.fancybox.pack.js"
    id="fancybox-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/imagesloaded.min.js"
    id="imagesloaded-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/isotope.pkgd.min.js"
    id="isotope-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/waypoints.min.js"
    id="waypoint-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/jquery.counterup.min.js"
    id="counterup-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/lightbox.js"
    id="lightbox-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/splash.js"
    id="stm-theme-scripts-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/header.js"
    id="stm-theme-scripts-header-js"
  ></script>
  <script is:inline type="text/javascript" id="sportspress-js-extra">
    /* <![CDATA[ */
    var localized_strings = {
      days: "days",
      hrs: "hrs",
      mins: "mins",
      secs: "secs",
      previous: "Previous",
      next: "Next",
    };
    //# sourceURL=sportspress-js-extra
    /* ]]> */
  </script>
  <script
    is:inline
    type="text/javascript"
    src="/js/sportspress.js"
    id="sportspress-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/jquery.waypoints.min.js"
    id="jquery-waypoints-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/sportspress-match-stats.js"
    id="sportspress-match-stats-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/sportspress-scoreboard.js"
    id="sportspress-scoreboard-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/sportspress-sponsors.js"
    id="sportspress-sponsors-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/sportspress-tournaments.js"
    id="sportspress-tournaments-js"
  ></script>
  <script
    is:inline
    type="text/javascript"
    src="/js/js_composer_front.min.js"
    id="wpb_composer_front_js-js"
  ></script>
  <script is:inline type="text/javascript">
    (function () {
      var c = document.body.className;
      c = c.replace(/woocommerce-no-js/, "woocommerce-js");
      document.body.className = c;
    })();
  </script>
  <script is:inline type="text/javascript">
    jQuery(document).ready(function ($) {
      // Initialize Select2 for dropdowns
      if (typeof $.fn.select2 !== "undefined") {
        $(".registration-form select").select2({
          minimumResultsForSearch: Infinity,
        });
      }
    });
  </script>
  <script is:inline type="text/javascript">
    jQuery(document).ready(function ($) {
      $(".sp-header-loaded").prepend($(".sp-league-menu"));
    });
  </script>
  <script is:inline type="text/javascript">
    jQuery(document).ready(function ($) {
      $(".sp-header-loaded").prepend($(".sp-header-scoreboard"));
    });
  </script>
</Layout>
<!-- wrapper -->

