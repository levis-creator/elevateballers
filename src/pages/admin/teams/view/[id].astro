---
export const prerender = false;
export const ssr = false;

export async function getStaticPaths() {
  return [];
}

import AdminLayout from '../../../../features/cms/components/AdminLayout.astro';
import { checkAuth } from '../../../../features/cms/lib/auth-astro';
import TeamView from '../../../../features/cms/components/TeamView';

const user = await checkAuth(Astro.request);
if (!user) {
  return Astro.redirect('/admin/login', 302);
}

const { id } = Astro.params;
if (!id) {
  return Astro.redirect('/admin/teams', 302);
}
---

<AdminLayout title={`${team.name} - View Team`}>
  <TeamView teamId={id} client:load />
</AdminLayout>

